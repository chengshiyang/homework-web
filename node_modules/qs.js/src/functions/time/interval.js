import {createTimeBaseStreamConstructor as createTBSConstructor} from '../common';


const IntervalStream = createTBSConstructor('interval', {

    init({val}) {
        this._val = val;
    },

    _free() {
        this._val = null;
    },

    _onTick() {
        this.emitValue(this._val);
    }
});

module.exports = function interval(wait, val) {
    return new IntervalStream(wait, {val});
};