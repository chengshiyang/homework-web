import {createTimeBaseStreamConstructor as createTBSConstructor} from '../common';


const DelayStream = createTBSConstructor('delay', {

    init({val}) {
        this._val = val;
    },

    _free() {
        this._val = null;
    },

    _onTick() {
        this.emitValue(this._val);
        this.emitEnd();
    }
});

module.exports = function delay(wait, val) {
    return new DelayStream(wait, {val});
};