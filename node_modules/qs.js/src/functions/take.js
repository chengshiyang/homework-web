import {createStreamConstructor, createPropertyConstructor} from './common';

const mixin = {
    init({n}) {
        this._n = n;
    },

    _handleValue(x) {
        this._n--;
        this.emitValue(x);
        if (this._n === 0) {
            this.emitEnd();
        }
    }

};

const S = createStreamConstructor('take', mixin);
const P = createPropertyConstructor('take', mixin);


function take(source, n) {
    return new (source._ofSameType(S, P))(source, {n});
}



export default take;