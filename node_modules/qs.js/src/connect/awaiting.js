import merge from './merge';
import map from '../functions/map';
import mapError from '../functions/mapError';
import skipDuplicates from '../functions/skipDuplicates';
import toProperty from '../functions/toProperty';


const t = () => true;
const f = () => false;

export default function awaiting(a, b) {
    b = map(b, f).onError( () => {
        b.emitValue(false);
    });
    let result = merge([map(a, t), b]);
    result = skipDuplicates(result);
    result = toProperty(result, f);
    return result;
}